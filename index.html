<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- TODO: Change title -->
    <title>Homework 2</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  </head>

  <body>

  <!-- Page header -->
  <!-- https://bulma.io/documentation/layout/hero/ -->
  <section class="hero is-info is-bold">
    <div class="hero-body">
      <div class="container">
        <!-- TODO: Change title -->
        <h1 class="title">Air Traffic Visualizations for San Francisco Airport</h1>
        <!-- TODO: Change subtitle -->
        <h2 class="subtitle">Air Traffic Passenger Statistics Visualizations for 2005-2019</h2>
      </div>
    </div>
  </section>
  <!-- End page header -->

  <!-- Page navigation -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <!-- TODO: Change link to repository homepage if needed -->
        <!-- TODO: Change which navbar-item is-active if needed -->
        <a class="navbar-item is-active" href="index.html">
          <span class="icon"><i class="fas fa-home"></i></span>
          <span>Home</span>
        </a>

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="main-menu" class="navbar-menu has-text-weight-medium">
        <!-- Left navbar items -->
        <div class="navbar-start">
          <a class="navbar-item" href="#data" title="Data">
            <span class="icon"><i class="fas fa-table"></i></span>
            <span>Data</span>
          </a>

          <!-- TODO: Modify or remove dropdown -->
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link" href="#visualizations">
              Visualizations
            </a>

           
          </div>
        </div>

        <!-- Right navbar items -->
        <div class="navbar-end">
          <!-- TODO: Update as needed -->
          <a class="navbar-item" href="#grade" title="About">
            <span class="icon"><i class="fas fa-tasks"></i></span>
            <span>Grade</span>
          </a>

          <a class="navbar-item" href="#about" title="About">
            <span class="icon"><i class="fas fa-info-circle"></i></span>
            <span>About</span>
          </a>
        </div>
      </div>
    </div>
  </nav>
  <!-- End page navigation -->

  <section class="section">
    <div class="container">
      <!-- Begin page content -->
      <div class="content">
        <h1 class="title">
          <!-- TODO: Change page title -->
          Description
        </h1>
        <p class="subtitle">
          <!-- TODO: Change page subtitle -->
          What you can find in this website?
        </p>


        <p>"On any given day, more than 87,000 flights are in the skies in the United States. Only one-third are commercial carriers, like American, United or Southwest. On an average day, air traffic controllers handle 28,537 commercial flights (major and regional airlines), 27,178 general aviation flights (private planes), 24,548 air taxi flights (planes for hire), 5,260 military flights and 2,148 air cargo flights (Federal Express, UPS, etc.). At any given moment, roughly 5,000 planes are in the skies above the United States. In one year, controllers handle an average of 64 million takeoffs and landings." - From the National Air Traffic Controllers Association</p>

        <p>The goal for this website is to visualize and discuss a dataset related to San Francisco International Airport air traffic during 2005-2019.</p>

        <h2 id="data">About Dataset</h2>



        <p>This dataset, consists of details about around 22000 flights, tracks commercial flights to/from San Francisco International Airport(SFO)airport. You can find the original dataset <a href="https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg/">here</a>, The data has been last updated on December 30, 2019 and has been accessed on February 10,2020.</p>

        <p>Also you can find the license <a href="https://opendatacommons.org/licenses/pddl/1.0/">here</a>.</p>


        <blockquote>
          <p>
            "This data is made available under the Public Domain Dedication and License v1.0 whose full text can be found at: <a href="http://www.opendatacommons.org/licenses/pddl/1.0/">www.opendatacommons.org/licenses/pddl/1.0/</a>"
          </p>
          <cite><p> <a href="https://opendatacommons.org/licenses/pddl/1.0/">License</a>.</p></cite>
        </blockquote>

        <p>Overall, original dataset has 12 columns, below you can find important columns that were used on this website's visualizations and their detailed description:</p>

        <ol>

          <li><strong>Activity Period:</strong> Years of active operation of flights from 2005 to 2019 .</li>

          <li><strong>Operating Airline:</strong> Name of operating airline</li>

          <li><strong>Operating Airline IATA Code:</strong> IATA code related to the airline </li>

          <li><strong>GEO Summary:</strong> Geographic summary of the data (International or Domestic) </li>

          <li><strong>GEO Region:</strong> Regions with flight routes to/from SFO </li>

          <li><strong>Passenger Count:</strong> Number of passengers boarded on flight</li>


        </ol>

        
        <h3 id="wrangling">Wrangling</h3>

        <p>Data has been processed using the source website itself. You can find details of filters in each visualization page.</p>

        <h2 id="visualizations">Visualizations</h2>

 
<style>


.axis,
.frame {
  shape-rendering: crispEdges;
}

.axis line {
  stroke: #ddd;
}

.axis path {
  display: none;
}

.cell text {
  font-weight: bold;

  text-transform: capitalize;
  fill: black;
}

.frame {
  fill: none;
  stroke: #aaa;
}

circle {
  fill-opacity: .8;
}
  

  circle.hidden {
  fill: #ccc !important;
}
.extent {
  fill: #000;
  fill-opacity: .125;
  stroke: #fff;
}


</style>

  

      <h6>D3 Implementation:</h6>
      
      <h3>US Airlines Popularity Between Passengers</h3>
    <div id="plot"></div>
      
      <br>
      <br>

      <p>
        The plot shows trends related to number of passengers using diffrent airlines starting from 2005 towards the end of 2019. The visualization has been encoded using different colors showing operating airline's names. The vertical axe shows number of passengers and horizontal line indicates the year when flights have been operated. It includes both domestic and International flights.
      </p>

      <p>
        The original dataset has been used for this visualization with filter on airline names column. In conclusion, United Airline's number of passengers has drastically increased over the period of 2012-2018. 

      </p>


     <h6>Tableau Prototype:</h6>
      
      <figure class="media-left">
            <p class="image is-960x500"><img src="line.jpg"></p>
          </figure>

    
    
<h2 id="grade">Grade</h2>

        <!-- TODO: Remove custom style if no longer needed -->
        <style>
          table.grades tbody tr td:nth-child(1),
          table.grades tbody tr td:nth-child(2) {
            text-align: center;
          }
        </style>

        <!-- TODO: Change or remove table -->
        <!-- https://bulma.io/documentation/elements/table/ -->
        <table class="table is-hoverable is-bordered grades">
          <thead>
            <tr>
              <th>Letter</th>
              <th>Done?</th>
              <th>Description</th>
            </tr>
          </thead>

          <tbody>
         
                <tr>
                  <td>C</td>
                  <td><i class="has-text-success fas fa-check-circle"></i></td>
                  <td>
                    <p>This grade requirements has been successfully completed as:</p>
                    <ul>
                      <li>Created 3 different Tableau visualizations.</li>
                      <li>Used 2 different encodings schemes:<ul>
                          <li>Bar Chart</li>
                          <li>Area Chart</li>
                          <li>Line Chart</li>
                        </ul>
                      </li>
                                        
                    </ul>
                  </td>
                </tr>

                <tr>
                  <td>B</td>
                  <td><i class="has-text-success fas fa-check-circle"></i></td>
                  <td>
                    <p>This grade requirements has been successfully completed as:</p>
                    <ul>
                      <li>Implemented one of the Tableau prototypes(Bar Chart) in D3 Version 5</li>
                      <li>Matched as much of the design as possible from my Tableau prototype.</li>
                   
                    </ul>
                  </td>
                </tr>

                <tr>
                  <td>A</td>
                  <td><i class="has-text-success fas fa-check-circle"></i></td>
                  <td>
                    <p>This grade requirements has been successfully completed as:</p>
                    <ul>
                      <li>Implemented one of the Tableau prototypes(Line Chart) in D3 Version 5 </li>
                      <li>Matched as much of the design as possible from my Tableau prototype.</li>
                      
                    </ul>
                  </td>
                </tr>
      
          </tbody>

        </table>

  

        <h2 id="about">About Me</h2>

        <!-- Profile box -->
        <!-- https://bulma.io/documentation/layout/media-object/ -->
        <article class="media">
          <!-- TODO: Replace with profile photo -->
          <figure class="media-left">
            <p class="image is-128x128" ><img class="is-rounded" src="parisa.jpg"></p>
          </figure>

          <div class="media-content">
            <div class="content">
              <!-- TODO: Replace with contact information -->
              <p>
                <strong>Parisa Hemmati</strong><br/>
                CS Major, <a href="https://www.usfca.edu/">University of San Francisco</a><br/>
                <em>Expected Graduation: May 2022</em><br/>
                <i class="fas fa-envelope"></i> <a href="mailto:username@dons.usfca.edu">Phemmati@dons.usfca.edu</a>
              </p>

              <!-- TODO: Replace with brief biography -->
              <p>
                I am a Computer Science graduate student with experience on Wireless protocol development. Beside programming enthusiastic, I am a globetrotter who loves to travel to different part of the world. I have traveled to more than 30 countries up to now and still counting. Reading books and playing piano are my hobbies.
              </p>

              <!-- TODO: Replace or remove tags -->
              <!-- https://bulma.io/documentation/elements/tag/ -->
              <div class="heading">Skills</div>

              <div class="tags">
                <span class="tag">Python</span>
                <span class="tag">C</span>
                <span class="tag">Java</span>
                <span class="tag">JavaScript</span>
                <span class="tag">HTML</span>
                <span class="tag">CSS</span>
                <span class="tag">Tableau</span>
                <span class="tag">Node.js</span>
              </div>
            </div>
          </div>
        </article>
        <!-- End profile box -->

      </div>
      <!-- End page content -->
    </div>
  </section>

  
  </body>

  </html>

  
<script src="//d3js.org/d3.v5.min.js"></script>
<script>



var width = 960,
    height = 500,
    size = 110,
    padding = 30;

var x = d3.scaleLinear()
    .range([padding , size - padding / 2]);

var y = d3.scaleLinear()
    .range([size - padding / 2, padding+10 ]);

var xAxis = d3.axisBottom()
    .scale(x)
    .ticks(8);

var yAxis = d3.axisLeft()
    .scale(y)
    .ticks(8);

var color = d3.scaleOrdinal(d3.schemeCategory10);

d3.csv("data.csv").then(function(data) {
  
  var domainByTrait = {},
      traits = d3.keys(data[0]).filter(function(d) { return d !== "Type"; }),
      n = traits.length;

  traits.forEach(function(trait) {
    domainByTrait[trait] = d3.extent(data, function(d) { return d[trait]; });
  });

  xAxis.tickSize(size * n+25);
  yAxis.tickSize(-size * n-25);

 

  var svg = d3.select("#plot").append("svg")
      .attr("width", width)
      .attr("height", height)
    .append("g")
      .attr("transform", "translate(" + padding + "," + padding / 2 + ")");
  
  // Handmade legend
svg.append("circle").attr("cx",600).attr("cy",130).attr("r", 3).style("fill", "#2ca02c")
svg.append("circle").attr("cx",600).attr("cy",160).attr("r", 3).style("fill", "#ff7f0e")
svg.append("circle").attr("cx",600).attr("cy",190).attr("r", 3).style("fill", "#1f77b4")
svg.append("text").attr("x", 620).attr("y", 130).text("Public").style("font-size", "10px").attr("alignment-baseline","middle")
svg.append("text").attr("x", 620).attr("y", 160).text("Private- non profit").style("font-size", "10px").attr("alignment-baseline","middle")
svg.append("text").attr("x", 620).attr("y", 190).text("For profit").style("font-size", "10px").attr("alignment-baseline","middle")


  svg.selectAll(".x.axis")
      .data(traits)
    .enter().append("g")
      .attr("class", "x axis")
      .attr("transform", function(d, i) { return "translate(" + (n - i -1) * size + ",0)"; })
      .each(function(d) { x.domain(domainByTrait[d]); d3.select(this).call(xAxis).selectAll("text") 
            .style("text-anchor", "end")
            .attr("dx", "-465")
            .attr("dy", "-465")
            .attr("transform", function(d) {
                return "rotate(-90)" 
                }); });

  svg.selectAll(".y.axis")
      .data(traits)
    .enter().append("g")
      .attr("class", "y axis")
      .attr("transform", function(d, i) { return "translate(0," + i * size + ")"; })
      .each(function(d) { y.domain(domainByTrait[d]); d3.select(this).call(yAxis); });

  var cell = svg.selectAll(".cell")
      .data(cross(traits, traits))
    .enter().append("g")
      .attr("class", "cell")
      .attr("transform", function(d) { return "translate(" + (n - d.i - 1) * size + "," + d.j * size + ")"; })
      .each(plot);

  // Titles for the diagonal.
  cell.filter(function(d) { return d.i === d.j; }).append("text").style("font","10px sans-serif").style("font-weight","bold")
      .attr("x", padding-10)
      .attr("y", padding-8)
      .attr("dy", ".71em")
      .text(function(d) { return d.x; });

  function plot(p) {
    var cell = d3.select(this);

    x.domain(domainByTrait[p.x]);
    y.domain(domainByTrait[p.y]);

    cell.append("rect")
        .attr("class", "frame")
        .attr("x", padding / 2)
        .attr("y", padding / 2)
        .attr("width", size - 5)
        .attr("height", size -5);

    cell.selectAll("circle")
        .data(data)
      .enter().append("circle")
        .attr("cx", function(d) { return x(d[p.x]); })
        .attr("cy", function(d) { return y(d[p.y]); })
        .attr("r", 2)
        .style("fill", function(d) { return color(d.Type); });
  }
});

function cross(a, b) {
  var c = [], n = a.length, m = b.length, i, j;
  for (i = -1; ++i < n;) for (j = -1; ++j < m;) c.push({x: a[i], i: i, y: b[j], j: j});
  return c;
}

</script>


  <!-- Page footer -->
  <!-- https://bulma.io/documentation/layout/footer/ -->
  <footer class="footer">
    <div class="content has-text-centered is-size-7">
      <p>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span class="has-text-weight-medium">Back to Top</span>
        </a>
      </p>

      <p>
        <!-- TODO: Change to link to your Github repository -->
        <a href="https://github.com/usf-cs360-spring2020/template-bulma" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
        </a>

        <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
        </a>

        <a href="https://bulma.io" class="button is-small">
          <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
        </a>
      </p>
    </div>
  </footer>
  <!-- End page footer -->

  <!-- Mobile menu responsiveness -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
  </script>
  <!-- End mobile menu responsiveness -->
  </body>

</html>
